{"ast":null,"code":"import _classCallCheck from\"/Users/heesoopark/Desktop/myprj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/heesoopark/Desktop/myprj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/heesoopark/Desktop/myprj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/heesoopark/Desktop/myprj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import style from'./videosList.module.css';import axios from'axios';import{YOUTUBE_URL,YOUTUBE_KEY}from'../../../config';import Button from'../Buttons/buttons';import VideosListTemplate from'./videosListTemplate';var VideosList=/*#__PURE__*/function(_Component){_inherits(VideosList,_Component);var _super=_createSuper(VideosList);function VideosList(){var _this;_classCallCheck(this,VideosList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={videos:[],query:_this.props.query,order:_this.props.order,duration:_this.props.duration,videoType:_this.props.videoType,definition:_this.props.definition,maxResults:_this.props.maxResults,language:_this.props.language};_this.renderTitle=function(){return _this.props.title?/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"COVID-19\"),\" Videos\"):null;};_this.request=function(query,order,duration,videoType,definition,maxResults,language){console.log(\"\".concat(YOUTUBE_URL,\"/search?part=snippet&q=\").concat(query,\"&order=\").concat(order,\"&videoDuration=\").concat(duration,\"&type=\").concat(videoType,\"&videoDefinition=\").concat(definition,\"&maxResults=\").concat(maxResults,\"&key=\").concat(YOUTUBE_KEY));axios.get(\"\".concat(YOUTUBE_URL,\"/search?part=snippet&q=\").concat(query,\"&order=\").concat(order,\"&videoDuration=\").concat(duration,\"&type=\").concat(videoType,\"&videoDefinition=\").concat(definition,\"&maxResults=\").concat(maxResults,\"&relevanceLanguage=\").concat(language,\"&key=\").concat(YOUTUBE_KEY)).then(function(response){_this.setState({videos:response.data.items});});};_this.renderVideos=function(){var template=null;switch(_this.props.type){case'card':template=/*#__PURE__*/React.createElement(VideosListTemplate,{data:_this.state.videos});break;default:template=null;}return template;};_this.loadMore=function(){_this.setState({maxResults:_this.state.maxResults+5});// this.state.maxResults = this.state.maxResults + 5;\n_this.request(_this.state.query,_this.state.order,_this.state.duration,_this.state.videoType,_this.state.definition,_this.state.maxResults,_this.state.language);};_this.renderButton=function(){return _this.props.loadmore?/*#__PURE__*/React.createElement(Button,{type:\"loadmore\",loadMore:function loadMore(){return _this.loadMore();},cta:\"Load More Videos\"}):/*#__PURE__*/React.createElement(Button,{type:\"linkTo\",cta:\"More Videos\",linkTo:\"/videos\"});};return _this;}_createClass(VideosList,[{key:\"componentWillMount\",value:function componentWillMount(){this.request(this.state.query,this.state.order,this.state.duration,this.state.videoType,this.state.definition,this.state.maxResults,this.state.language);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:style.videosList_wrapper},this.renderTitle(),this.renderVideos(),this.renderButton());}}]);return VideosList;}(Component);export default VideosList;","map":{"version":3,"sources":["/Users/heesoopark/Desktop/myprj/src/components/widgets/VideosList/videosList.js"],"names":["React","Component","style","axios","YOUTUBE_URL","YOUTUBE_KEY","Button","VideosListTemplate","VideosList","state","videos","query","props","order","duration","videoType","definition","maxResults","language","renderTitle","title","request","console","log","get","then","response","setState","data","items","renderVideos","template","type","loadMore","renderButton","loadmore","videosList_wrapper"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport style from './videosList.module.css';\nimport axios from 'axios';\n\nimport { YOUTUBE_URL, YOUTUBE_KEY } from '../../../config';\nimport Button from '../Buttons/buttons';\nimport VideosListTemplate from './videosListTemplate';\n\nclass VideosList extends Component {\n    state = {\n        videos: [],\n        query: this.props.query,\n        order: this.props.order,\n        duration: this.props.duration,\n        videoType: this.props.videoType,\n        definition: this.props.definition,\n        maxResults: this.props.maxResults,\n        language: this.props.language\n    }\n\n    renderTitle = () => {\n        return this.props.title ? \n            <h3><strong>COVID-19</strong> Videos</h3>\n            : null\n    }\n\n    componentWillMount(){\n        this.request(this.state.query, this.state.order, this.state.duration, this.state.videoType, this.state.definition, this.state.maxResults, this.state.language)\n    }\n\n    request = (query, order, duration, videoType, definition, maxResults, language) => {\n        console.log(`${YOUTUBE_URL}/search?part=snippet&q=${query}&order=${order}&videoDuration=${duration}&type=${videoType}&videoDefinition=${definition}&maxResults=${maxResults}&key=${YOUTUBE_KEY}`);\n        axios.get(`${YOUTUBE_URL}/search?part=snippet&q=${query}&order=${order}&videoDuration=${duration}&type=${videoType}&videoDefinition=${definition}&maxResults=${maxResults}&relevanceLanguage=${language}&key=${YOUTUBE_KEY}`)\n        .then( response => {\n            this.setState({\n                videos: response.data.items\n            })\n        })\n    } \n\n\n\n    renderVideos = () => {\n        let template = null;\n        switch(this.props.type){\n            case('card'):\n                template = <VideosListTemplate data={this.state.videos}/>\n                break;\n            default:\n                template = null\n        }\n        return template;\n    }\n\n    loadMore = () => {\n        this.setState({maxResults: this.state.maxResults+5})\n        // this.state.maxResults = this.state.maxResults + 5;\n        this.request(this.state.query, this.state.order, this.state.duration, this.state.videoType, this.state.definition, this.state.maxResults, this.state.language)    \n    }\n\n    renderButton = () => {\n        return this.props.loadmore ? \n            <Button\n                type=\"loadmore\"\n                loadMore={() => this.loadMore()}\n                cta=\"Load More Videos\"\n            />\n            : \n            <Button type=\"linkTo\" cta=\"More Videos\" linkTo=\"/videos\"/>\n    }\n\n    render(){\n        return(\n            <div className={style.videosList_wrapper}>\n                { this.renderTitle() }\n                { this.renderVideos() }\n                { this.renderButton() }\n            </div>\n        )\n    }\n}\n\nexport default VideosList;"]},"metadata":{},"sourceType":"module"}